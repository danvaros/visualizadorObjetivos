  <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Indicadores</title>
    	<link rel="stylesheet" type="text/css" href="tooltipster/dist/css/tooltipster.bundle.min.css" />
	  <link rel="stylesheet" type="text/css" href="tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-light.min.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,700,800,300,600italic,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/home.css">

	<!-- Load c3.css -->
	<link href="lib/c3.css" rel="stylesheet" type="text/css">
  <style media="screen">
    th, td{
      padding: 13px !important;
    }

    svg g.c3-chart-line g.c3-circles-Estados-Unidos-Mexicanos circle{
      fill: #f00 !important;
    }

    #datosNacional{
      display: none;
    }

      .infoPadre{
        width: 276px;
    }

      .cuadrosSocial li {
        display: inline;
    }

    .cuadrosSocial li a{
      border: 1px solid #ccc;
      padding: 10px;
      transition: all 1.0s ease;
      width: 40px;
    }


    .cuadrosSocial li a:hover {
      background-color: #ccc;

    }

    .select-dropdown{
      padding-left: 10px !important;
    }


    .select-wrapper span.caret{
      padding-right: 10px;
      font-size: 14px;
      color: #666;
    }

    .espacio_seccion{
      height: 40px;
    }



    .promedios{
      font-size: 40px !important;
      font-weight: 200;
    }

    .topColor{
      color: #3ebcef;
    }


    .section-bullets li a:before {
        background-color: #00aeef;
    }


    .section-bullets li:hover {
        background-color: #eee;
    }

    .section-bullets .active a {
      color: #fff;
    }

     .section-bullets .active a:after {
        background-color: #FFF;
    }

    .line_pro{
      border-bottom: #F44336;
      border: solid 1px #F44336;
      margin: 10px;
      max-width: 32%;
    }

  </style>
  <link rel="stylesheet" href="DataTables/datatables.css">
    <style>
        /*th, td { white-space: nowrap; }*/
    div.dataTables_wrapper {
        width: auto;
        margin: 0 auto;
    }

    .dataTables_info  , .dataTables_filter{
        display: none;
    }

    .DTFC_LeftBodyLiner{
        margin-top: -10px !important;
    }

    td ,th{

    }

    .sorting{
      margin-top: -10px;
    }

    table.dataTable thead .sorting_asc {
      background-image: url(DataTables-1.10.13/images/sort_asc.png);
      background-color: #fff;
    }

    </style>


    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="tooltipster/dist/js/tooltipster.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script src="image.js"></script>
    <script type="text/javascript" src="http://gabelerner.github.io/canvg/rgbcolor.js"></script>
    <script type="text/javascript" src="http://gabelerner.github.io/canvg/StackBlur.js"></script>
    <script type="text/javascript" src="http://gabelerner.github.io/canvg/canvg.js"></script>


    <!-- <script type="text/javascript" charset="utf8" src="DataTables/jQuery-1.12.4/jquery-1.12.4.js"></script> -->
    <script type="text/javascript" charset="utf8" src="DataTables/DataTables-1.10.13/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="DataTables/dataTables.fixedColumns.js"></script>
  </head>
  <body>
    <div class="navbar-fixed">
      <nav>
        <div class="nav-wrapper">
          <a href="index.html" class="brand-logo"><img src="img/logo.png" alt="" /></a>
          <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
          <ul id="nav-mobile" class="right hide-on-med-and-down nav_sticky">
            <li class="tam t_sm"><a class="t_sm" href="explora.html">Explora</a></li>
            <li class="tam t_sm"><a class="t_sm" href="compara.html">Compara</a></li>
            <li class="tam t_sm"><a class="t_sm" href="objetivos.html">Objetivos</a></li>
            <li class="tam t_sm"><a class="t_sm" href="estados.html">Indicadores con desglose geográfico</a></li>
            <li class="tam t_sm"><a class="t_sm" href="como_vamos.html">¿C&oacute;mo vamos?</a></li>
            <li class="tam t_sm"><a class="t_sm" href="acerca.html">Acerca de</a></li>
            <li>
              <a id="buscar"><img src="img/search.png" alt="" /></a>
              <input id="cam_bus" type="text" name="buscar" style="display: none; background-color: rgba(0, 0, 0, 0.4); background-position: 95% 50%; background-repeat: no-repeat;border-bottom: 0 none; border-radius: 8px;color: #ffffff !important;padding: 0 10px;height:35px;" />
            </li>
          </ul>
          <ul class="side-nav" id="mobile-demo">
            <li><a href="explora.html">Explora</a></li>
            <li><a href="compara.html">Compara</a></li>
            <li><a href="objetivos.html">Objetivos</a></li>
            <li><a href="estados.html">Indicadores por unidad geográfica</a></li>
            <li><a href="como_vamos.html">¿C&oacute;mo vamos?</a></li>
            <li><a href="acerca.html">Acerca de</a></li>
          </ul>
        </div>
      </nav>
    </div>
<!-- // verde #299e33 -->
    <div class="headerObje" style=" position:fixed; z-index: 9999; width: 100%;">
      <div class="container">
        <div class="row">
          <div class="col s2 center-align">
              <img class="ico_obj" src="img/ods-03.png" alt="">
          </div>
          <div class="col s9 left-align">
              <h5>3 - Garantizar una vida sana y promover el bienestar para todos en todas en todas las edades</h5>
              <p>
                Meta 3.1 Para 2030, reducir la tasa mundial de mortalidad materna a menos de 70 por cada 100,00 nacidos vivos
              </p>
              <hr>
              <p>
                Indicador 3.1.1 Razón de mortalidad materna
              </p>
              <hr>
          </div>

      <!--     <div class="col s3 right-align">
        <div class="regreso">
          <a href="objetivos.html">Regresar a Objetivos</a>
        </div>
      </div> -->
        </div>
      </div>
    </div>
    <div class="container" style="margin-top: 300px;">
      <div class="row">
        <div class="col s12">
      <!--     <h3 class="fuerte t_principal">Meta 1 .A. Reducir a la mitad, entre 1990 y 2015, el porcentaje de personas cuyos ingresos sean inferiores a 1.25 dólares por día,</h3> -->
      <h3 style="color:#0a254f">Indicador 3.1.1 Razón de mortalidad materna</h3>
          <li class="divider"></li>
          <br>
<!--           <p class="t_sec2"> 1.1. Proporción de la población coin ingresos per cápital inferiores a 1.25 dólares diarios (Paridad de Poder de Compra respecto al dólar) - Lista oficial de la ONU </p>
<p class="gris t_sm">
Esta sección permite llevar a cabo el cruce de dos indicadores seleccionados por el usuario, a fin de que pueda analizar de manera sencillas y visual la correlación existente entre dos variables. Igualmente se puede llevar a cabo un seguimiento del comportamiento de los dos indicadores seleccionados en el tiempo por medio de un gráfico y exportar la información, mapas y gráficos para su uso.

<p class="gris t_sm">
Lorem ipsum dolor sit amet, consectetur adipisicing elit. Temporibus neque rerum ipsa eius quam impedit ex nihil debitis quo laudantium aperiam, corrupti nam sit at corporis, accusamus aliquid. Ullam, a? Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
</p> -->
        </div>
      </div>
    <!--   <div class="row" id="grafica">
      <div class="col s12">
        <div id="chart"></div>
      </div>
    </div> -->

      <div class="row">
        <div class="col s12 center-align">
          <a id="indicador" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 5px 0px 0px 5px;">INDICADOR</a>
          <a id="metadato" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 0;">METADATO</a>
          <a id="serie" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 0">SERIE HISTÓRICA</a>
          <a id="datos" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps indicadores-taps-active" style =" border-radius: 0px 5px 5px 0px;">DATOS PARA EL CÁLCULO</a>
        </div>
      </div>


<!--       <div class="row">
  <div class="col s3 center-align">
    <a id="indicador" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 5px 0px 0px 5px;">INDICADOR</a>
  </div>
  <div class="col s3 center-align">
    <a id="metadato" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 0;">METADATO</a>
  </div>
  <div class="col s3 center-align">
    <a id="serie" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps" style =" border-radius: 0">SERIE HISTÓRICA</a>
    </div>
    <div class="col s3 center-align">
    <a id="datos" class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top indicadores-taps indicadores-taps-active" style =" border-radius: 0px 5px 5px 0px;">DATOS PARA EL CÁLCULO</a>
  </div>
</div> -->

 <!-- style="overflow-x: scroll;border-radius: 20px;" -->
      <div class="row card tablaPadding" id="datos-panel">
          <div class="col s6">PERIODO</div>
          <div class="col s6">Proporción del consumo nacional que corresponde</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <hr>
          <div class="col s6">2000</div>
          <div class="col s6">6.3</div>
          <br>
          <br>
          <p class="nota">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONApo, estimados por INEGI. La información de 1989 se roma de los datos históricos del indicador.<br>
          Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>
      </div>

      <div class="row card tablaPadding" id="datos-panel-dos" style="overflow-x: scroll;border-radius: 20px;">
      </div>


      <a id="link-datos-panel" class="waves-effect waves-light btn color right claro t_sm sin_sombra marg_top">Exportar datos para el cálculo</a>

      <div class="row card tablaPadding scroller" id="serie-panel" style=" border-radius: 20px;">
        <div class="col s12">
          <table class="bordered">
            <thead>
              <tr>
                <th>Entidad Federativa</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
                <th>2012</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Nacional</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Aguascalientes</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California Sur</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Campeche</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Chiapas</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
                <td>6.3</td>
              </tr>
            </tbody>
          </table>

          <p class="nota">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONApo, estimados por INEGI. La información de 1989 se roma de los datos históricos del indicador.<br>
          Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>
        </div>
      </div>


      <div class="row card tablaPadding" id="metadato-panel">
        <div class="col s12">
          <table class="bordered">

            <tbody>
            <tr>
              <th>Definición</th>
              <td><!-- <p>Es la relación entre la matrícula de sexo femenino y la matrícula de sexo masculino en la educación media superior, correspondiente a un ciclo escolar.</p> -->
              <p>Es el porcentaje de la piblación que en el año del calculo vive con menso del equivaliente a 1.25 dólares diarios a precio de 2005, según la paridad del poder adquisitivo.</p>
              </td>
            </tr>
            <tr>
              <th>Algoritmo</th>
              <td>
                  <img src="img/formula.png" alt="">
                  <p>Significado de las siglas o abreviaturas:</p>
                  PPIDt: Porcentaje de la población con ingresos per cápital menosrea a 1.25 dólares diarios,<br>
                  qt: Número de las personas con ingreso per cápita inferior a 1.25 dólares, y <br>
                  nt: Número de personas
              </td>
            </tr>
            <tr>
              <th>Fuente generadora de la información estadística utilizada para el cálculo del indicador:oritmo</th>
              <td>
            Instituto Nacional de Estadística y Geografía (INEGI). Índice Nacional de Precios al Consumidor.<br>
            http://www.inigi.org.mx/est/contenidos/proyectos/inp/inoc.aspx<br>
            Consejo Nacional de Evaluación de la Política de Desarrollo Social (CONEVAL). Medición de la pobreza por ingresos.<br>
            Banco Mundial (BM). Global Purchasing Power Paraties and Real Expenditures. 2005 International Comparison Program.<br>
            http://www.worldbank.org/data/icp.<br>
            Instituto Nacional de Estadística y Geografía (INEGI). Encuesta Nacional de Ingresos y Gastos de los Hogares (ENIGH) 1992-2012<br>
            y Banco de Información Económica (BIE). Serie de datos para PIB y Consumi Privado.<br>
            Para entidad federativa: Instituto Nacional de Estadística y Geografía (INEGI). Módulo de condiciones<br>
            Socioeconómicas de la ENIGH (MCS-ENIGH) 2008, 2010, 2012 y 2014.

             </td>
            </tr>
            </tbody>
          </table>
          <p class="nota">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONApo, estimados por INEGI. La información de 1989 se roma de los datos históricos del indicador.<br>
          Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>
        </div>
      </div>

      <div id="mapas_hide">
        <div class="col s12">
          <div id="map"></div>
          <div class="row" id="footmap">
            <div id="anios" class="col s8 center-align">
              <a class="waves-effect waves-light btn color  black-text t_sm sin_sombra marg_top" style="border-style: none;">Año</a>
              <a class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" style ="margin-right: -5px; border-color: black; border-width: 1px; border-radius: 5px 0px 0px 5px;">2013</a>
              <a class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" style ="margin-right: -5px; border-color: black; border-width: 1px; border-radius: 0;">2014</a>
              <a class="waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" style ="margin-right: -5px; border-color: black; border-width: 1px; border-radius: 0px 5px 5px 0px;">2015</a>
            </div>
            <div class="col s4" >
                  <a class="waves-effect waves-light btn color claro t_sm sin_sombra marg_top modal-trigger" href="#modalMapa" style="width: 250px;">Exportar mapa</a>
            </div>
          </div>
        </div>


      <div class="row">
        <div class="col s10">
          <a id="ver_grafica" class="active_anio waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" onclick="cambio_tabla()" style ="margin-right: -5px; border-color: #15b5f0; border-width: 1px; border-radius: 5px 0px 0px 5px;">VER GRAFICA</a>
          <a id="ver_tabla" class="inactive_anio waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" onclick="cambio_grafica()" style ="margin-right: -1px; border-color: #15b5f0; border-width: 1px; border-radius: 0px 5px 5px 0px;">VER TABLA</a>
        </div>
        <div class="col s2 right-align" style="margin-top: 60px;">
          <a href="#!" class="col s4 right-align" onclick="atras()"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>
          <a class="col s4 center-align numero">2015</a>
          <a href="#!" class="col s4 left-align" onclick="adelante()"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>
        </div>
      </div>

      <div class="row card tablaPadding" id="indicador-panel" style="display:none">
        <div class="col s5 ">
          <table class="bordered">
            <thead>
              <tr>
                <th>Entidad Federativa</th>
                <th class="numero">2015</th>
              </tr>
            </thead>
            <tbody class="tabla_uno">
              <tr>
                <td>Aguascalientes</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California Sur</td>
                <td>6.3</td>
              </tr>
          </table>
        </div>
        <div class="col s1"></div>
        <div class="col s5 ">
          <table class="bordered">
            <thead>
              <tr>
                <th>Entidad Federativa</th>
                <th class="numero">2015</th>
              </tr>
            </thead>
            <tbody class="tabla_dos">
              <tr>
                <td>Aguascalientes</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California</td>
                <td>6.3</td>
              </tr>
              <tr>
                <td>Baja California Sur</td>
                <td>6.3</td>
              </tr>
          </table>
        </div>


        <div class="col s12" style="
    margin-top: -10px;
">
           <hr>
        </div>
            <div class="col s6">
              <strong>Estados Unidos Mexicanos</strong>
            </div>
            <div class="col s6 right-align pais">
            </div>


                <div class="col s12">
                  <p class="nota" style="color:#8694a8;">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONAPO, estimados por INEGI. La información de 1989 se toma de los datos históricos del indicador.<br>Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>
                </div>



        <div id="modalMapa" class="modal">
          <div class="modal-content">
            <h5>Compartir</h5>
            <div class="row">
              <b>Redes Sociales</b>
              <ul class="cuadrosSocial">
                <li>
                  <a class="waves-effect" href="https://twitter.com/intent/tweet?text=aqui va el texto;url=http://104.236.211.149/ods/compara.html#!"><i class="fa fa-twitter fa-lg"></i></a>
                </li>
                <li>
                  <a class="waves-effect "><i class="fa fa-facebook fa-lg" style="padding-left: 4px;"></i></a>
                </li>
              </ul>
            </div>
            <div class="row">
              <i class="fa fa-code" aria-hidden="true"></i> <b>Embed</b>
              <div class="input-field col s12">
               <input placeholder="Placeholder" id="" type="text" class="validate" value="<script src='http://104.236.211.149/ods/embed.js'></script>">
               <label for="">Copia este código para insertar el mapa en una página HTML</label>
             </div>
            </div>

            <div class="row">
            <i class="fa fa-code" aria-hidden="true"></i> <b>Liga</b>
              <div class="input-field col s12">
                  <input placeholder="Placeholder" id="" type="text" class="validate" value="http://104.236.211.149/ods/compara.html#mapa">
             </div>
            </div>

            <div class="row">
            <i class="fa fa-code" aria-hidden="true"></i> <b>PDF</b>
              <div class="input-field col s12">
                  <a class="waves-effect btn color claro">Descargar PDF</a>
             </div>
            </div>
          <div class="modal-footer">
            <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Cerrar</a>
          </div>
        </div>
      </div>


      </div>



      <div class="row card tablaPadding" id="indicador-grafica">
        <div class="col s12">
          <div id="barras"></div>
        </div>

        <div id="modalMapa" class="modal">
          <div class="modal-content">
            <h5>Compartir</h5>
            <div class="row">
              <b>Redes Sociales</b>
              <ul class="cuadrosSocial">
                <li>
                  <a class="waves-effect" href="https://twitter.com/intent/tweet?text=aqui va el texto;url=http://104.236.211.149/ods/compara.html#!"><i class="fa fa-twitter fa-lg"></i></a>
                </li>
                <li>
                  <a class="waves-effect "><i class="fa fa-facebook fa-lg" style="padding-left: 4px;"></i></a>
                </li>
              </ul>
            </div>
            <div class="row">
              <i class="fa fa-code" aria-hidden="true"></i> <b>Embed</b>
              <div class="input-field col s12">
               <input placeholder="Placeholder" id="" type="text" class="validate" value="<script src='http://104.236.211.149/ods/embed.js'></script>">
               <label for="">Copia este código para insertar el mapa en una página HTML</label>
             </div>
            </div>

            <div class="row">
            <i class="fa fa-code" aria-hidden="true"></i> <b>Liga</b>
              <div class="input-field col s12">
                  <input placeholder="Placeholder" id="" type="text" class="validate" value="http://104.236.211.149/ods/compara.html#mapa">
             </div>
            </div>

            <div class="row">
            <i class="fa fa-code" aria-hidden="true"></i> <b>PDF</b>
              <div class="input-field col s12">
                  <a class="waves-effect btn color claro">Descargar PDF</a>
             </div>
            </div>
          <div class="modal-footer">
            <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Cerrar</a>
          </div>
        </div>
      </div>


      </div>



    <div class="row">
      <div class="col s5">
        <p>Fecha de actualización: 11 de enero de 2016</p>
        <p>Próxima fecha de actualización: Noviembre de 2016</p>
      </div>
      <div class="col s4 offset-s3 right-align" >
            <a class="waves-effect waves-light btn color claro t_sm sin_sombra marg_top modal-trigger" href="#modalMapa" style="width: 250px;">Exportar mapa</a>
      </div>
    </div>
  </div>
      <div class="row scrollable-section" data-section-title="Descarga de datos">
        <div class="col s12">
          <h3 class="fuerte t_principal">Datos</h3>
          <li class="divider"></li>
          <div class="row">
            <div class="col s11 offset-s1">
              <div class="row">
                <div class="col s4">
                  <p class="fuerte t_normal">Nombre</p>
                </div>
                <div class="col s2">
                      <p class="fuerte t_normal">Mapa</p>
                </div>
                <div class="col s2">
                      <p class="fuerte t_normal">Grafica</p>
                </div>
                <div class="col s3">
                      <p class="fuerte t_normal">Datos del indicador</p>
                </div>
                <div class="col s12">
                      <li class="divider griss"></li>
                </div>
                <div class="col s4">
                      <p class="gris t_sm">3.1.1 Razón de mortalidad materna</p>
                </div>
                <div class="col s2" style="margin-top: 10px;">
                  <a class="icn">SHP</a>
                  <a class="icns">SHP</a>
                </div>
                <div class="col s2" style="margin-top: 10px;">
                  <a class="icn">SHP</a>
                  <a class="icns">SHP</a>
                </div>
                <div class="col s3" style="margin-top: 10px;">
                      <a class="icn">CSV</a>
                      <a class="icns">XLS</a>
                      <a class="icnSDMX">SDMX</a>
                      <a class="icnPDF">PDF</a>
                </div>
                <div class="col s12">
                      <li class="divider griss"></li>
                </div>
                <div class="col s4">
                      <p class="gris t_sm">3.1.1 Razón de mortalidad materna</p>
                </div>
                <div class="col s2" style="margin-top: 10px;">
                  <a class="icn">SHP</a>
                  <a class="icns">SHP</a>
                </div>
                <div class="col s2" style="margin-top: 10px;">
                  <a class="icn">SHP</a>
                  <a class="icns">SHP</a>
                </div>
                <div class="col s3" style="margin-top: 10px;">
                      <a class="icn">CSV</a>
                      <a class="icns">XLS</a>
                      <a class="icnSDMX">SDMX</a>
                      <a class="icnPDF">PDF</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>


    <footer class="page-footer id">
      <div class="container">
        <div class="row" id="fot">
          <div class="col l3 s12">
            <a href="home.html"><img src="img/ods_logo_home2.png" alt="" /></a>
            <br>
            <br>
            <div class="" style="display:inline;">
              <a href="https://www.facebook.com" style="margin-right: 12%;"><img src="img/fill2.png" alt="" style="width:3%;"/></a>
              <a href="https://twitter.com" style="margin-right: 12%;"><img src="img/fill1.png" alt="" style="width:7%;"/></a>
              <a href="#"><img src="img/fill3.png" alt="" style="width:7%;"/></a>
            </div>
          </div>
          <div class="col l3 s12">
            <ul class="fuerte">
              <li><a class="fuerte t_sm" href="explora.html">Explora</a></li>
              <li><a class="fuerte t_sm" href="compara.html">Compara</a></li>
              <li><a class="fuerte t_sm" href="objetivos.html">Objetivos</a></li>
              <li><a class="fuerte t_sm" href="estados.html">Indicadores con desglose geográfico</a></li>
            </ul>
          </div>
          <div class="col l3 s12">
            <ul class="fuerte">
              <li><a class="fuerte t_sm" href="como_vamos.html">¿Cómo vamos?</a></li>
              <li><a class="fuerte t_sm" href="acerca.html">Acerca de</a></li>
              <li class="fuerte t_sm">Calendario de actualizaciones</li>
              <li class="fuerte t_sm">Exportación masiva</li>
            </ul>
          </div>
          <div class="col l3 s12" style="display:inline;">
            <a href="https://www.gob.mx" target="_blank"><img src="img/logoPR.png" alt="" style="width: 45%; margin-right: 15%;"/></a>
            <a href="http://www.inegi.org.mx" target="_blank"><img src="img/logoINEGI.png" alt="" style="width:25%;"/></a>
          </div>
        </div>
      </div>
      <div class="footer-copyright light-blue">
      </div>
    </footer>



    <script src="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
    <!-- <script type="text/javascript" src="entidad.json"></script> -->
    <script type="text/javascript" src="entidad2.json"></script>
    <script type="text/javascript" src="variable.js"></script>
    <!-- <script type="text/javascript" src="entidad2.json"></script> -->
    <!-- <script type="text/javascript" src="municipio.json"></script>
    <script type="text/javascript" src="nacion.json"></script> -->

    <!-- Load d3.js and c3.js -->
  <script src="lib/d3.v3.min.js" charset="utf-8"></script>
  <script src="lib/c3.min.js"></script>
  <script src="lib/jquery.fixedheadertable.js"></script>
  <script src="lib/jquery.mousewheel.js"></script>
  <script src="classybrew/build/classybrew.min.js"></script>
  <script>
  var estadoYear = 2015;
  var chart;
  var index_estados;
  var table3 = null;
  var table2 = null;
  var table1  = null;
  $(document).ready(function()
  {
    chart = c3.generate({
      legend: {
        show: false
      },
      bindto: '#barras',
      size: {
            height: 1280
          },
      data: {
      columns: [
        ['Razón de mortalidad materna',
          '25.8',
          '32',
          '24.3',
          '46.5',
          '28.3',
          '22.3',
          '68.5',
          '43.1',
          '44.3',
          '31.1',
          '31.2',
          '49.5',
          '32.3',
          '24.7',
          '30.9',
          '34.3',
          '36.6',
          '66.9',
          '23.5',
          '48.6',
          '32.3',
          '14.9',
          '20.7',
          '30.1',
          '22.1',
          '32.2',
          '41.7',
          '32',
          '20.1',
          '29.9',
          '32.6',
          '32.6'
        ],
      ],
      type: 'bar',
      colors: {
            'Razón de mortalidad materna' : function (d) {
                return d.index === regresa_estados_unidos() ? "#e06666" : "#1f77b4";
                 //return (d.value >= 45) ? '#00ff00' : '#ff0000';
            }
        },
       // color: function (color, d) {
       //
       //  },
      order: 'desc',
          },
          tooltip: {
                contents: function (d, defaultTitleFormat, defaultValueFormat, color) {
                    color = function() {
                        //return (d[0].value >= 45) ? '#00ff00' : '#ff0000';
                         return d[0].index === regresa_estados_unidos() ? "#e06666" : "#1f77b4";
                    };
                    return chart.internal.getTooltipContent.call(this, d, defaultTitleFormat, defaultValueFormat, color)
                }
            },
          axis: {
    rotated: true,
    x: {
    type: 'category',
    categories: [ 'Aguascalientes',
                  'Baja California',
                  'Baja California Sur',
                  'Campeche',
                  'Coahuila de Zaragoza',
                  'Colima',
                  'Chiapas',
                  'Chihuahua',
                  'Ciudad de México',
                  'Durango',
                  'Guanajuato',
                  'Guerrero',
                  'Hidalgo',
                  'Jalisco',
                  'México',
                  'Michoacán de Ocampo',
                  'Morelos',
                  'Nayarit',
                  'Nuevo León',
                  'Oaxaca',
                  'Puebla',
                  'Querétaro',
                  'Quintana Roo',
                  'San Luis Potosí',
                  'Sinaloa',
                  'Sonora',
                  'Tabasco',
                  'Tamaulipas',
                  'Tlaxcala',
                  'Veracruz de Ignacio de la Llave',
                  'Yucatán',
                  'Zacatecas',
                  'Estados Unidos Mexicanos',
                ],
          height: 40,
          }
          }
      });//fin de grafica


    datosGrafica(2015);
});


function atras(){
  if(estadoYear != 1990){
    estadoYear--;
    console.log(estadoYear);
    $('.numero').html(estadoYear);
    datosGrafica(estadoYear);
  }
}

function adelante(){
  if(estadoYear != 2015){
    estadoYear++;
    console.log(estadoYear);
    $('.numero').html(estadoYear);
    datosGrafica(estadoYear);
  }
}

function datosGrafica(year){
  var indice = 0;
  var serie = [];
  var nuevos_estados_dobles = new Array();
  console.log(nuevos_estados_dobles);

  var tabla_uno = tabla_dos =  '';

  for (var i = 0; i < estados[0].length; i++) {
    if(estados[0][i].includes(year)){
      indice = i;
    }
  }

  for (var i = 0; i < estados.length; i++) {
    if(i==0){
      serie.push('Razón de mortalidad materna');
    }else{
      if(i < 17){
        tabla_uno +='<tr><td>'+estados[i][0]+'</td><td>'+estados[i][indice]+'</td></tr>' ;
      } else if(i == 33){
        $('.pais').html(estados[i][indice]);
      }
      else {
        tabla_dos +='<tr><td>'+estados[i][0]+'</td><td>'+estados[i][indice]+'</td></tr>' ;
      }

      var valueToPush = {'numero':estados[i][indice], 'estado':estados[i][0]};
      nuevos_estados_dobles.push(valueToPush);

      serie.push(estados[i][indice]);
    }
  }


  nuevos_estados_dobles.sort(sortFunction);


  var categories = [];
  var series = [];

console.log('estados dobles');
console.log(nuevos_estados_dobles);


//separar el areglo
series.push('Razón de mortalidad materna');
for (var i = 0; i < nuevos_estados_dobles.length; i++) {
 // console.log(nuevos_estados_dobles[i].estado);
  if('Estados Unidos Mexicanos' == nuevos_estados_dobles[i].estado ){
      index_estados = i;
  }
  categories[i] = nuevos_estados_dobles[i].estado;
  series.push(nuevos_estados_dobles[i].numero);

}

  console.log(series);
  console.log(categories);
  cat_global = categories;
  chart.load({
    columns: [series],
    categories: categories,
    unload: ['Razón de mortalidad materna'],
  });

  $('.tabla_uno').html(tabla_uno);
  $('.tabla_dos').html(tabla_dos);
}
function regresa_estados_unidos(){
  return index_estados;
}

function sortFunction(a, b) {
    if (a.numero === b.numero) {
        return 0;
    }
    else {
        return (a.numero < b.numero) ? -1 : 1;
    }
}

  function commaSeparateNumber(x)
  {
    var parts=x.toString().split(".");parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return parts.join(".");
  }

  function gen(props)
  {
    var chart = c3.generate({
        bindto: '.info',
        padding: {
          top: 10,
              left: 30,
              right: 10
          },
          data: {
              x: 'x',
          columns: [
            ['x','1990-01-01','1991-01-01','1992-01-01','1993-01-01','1994-01-01','1995-01-01','1996-01-01','1997-01-01','1998-01-01','1999-01-01','2000-01-01','2001-01-01','2002-01-01','2003-01-01','2004-01-01','2005-01-01','2006-01-01','2007-01-01','2008-01-01','2009-01-01','2010-01-01','2011-01-01','2012-01-01','2013-01-01','2014-01-01','2015-01-01','2016-01-01'],
              props
            ]


          },
          axis: {
              x: {
                  type: 'timeseries',
                  tick: {
                       rotate:90,
                       format: function (x) { return x.getFullYear(); }
                  }
              },
              y : {
                  tick: {
                      format: d3.format(".2s")
                  }
              }
          },
          color: {
              pattern: ['#00AEEF']
          },
          size: {
              width: 260,
              height: 160
          },
          legend: {
              show: false
          },
          grid: {
              x: {
                  show: false
              },
              y: {
                  show: true
              }
          }

    });
  }
  </script>

  <script type="text/javascript">

  function busqueda_estado(cadena)
  {
    for(var i=0;i<estados.length;i++)
    {
      if(estados[i][0] == cadena)
      {
        console.log(cadena);
        return parseFloat(estados[i][1]);
      }
    }
  }

  function busqueda_estado_posicion(cadena,posicion)
  {
    for(var i=0;i<estados.length;i++)
    {
      if(estados[i][0] == cadena)
      {
        console.log(cadena);
        return parseFloat(estados[i][posicion]);
      }
    }
  }

  function busqueda_anio(cadena)
  {
    for(var i=0;i<estados[0].length;i++)
    {
      if(estados[0][i] == cadena)
      {
        console.log(estados[0][i]);
        return i;
      }
    }
  }

        var img;
        var data_url;
        var locked=false;
        var map = L.map('map' ,
        {
  	        scrollWheelZoom: false,
  	        maxZoom: 14,
  			minZomm:5,
        }).setView([24.8, -100], 5);


  	 	L.tileLayer('http://{s}.google.com/vt/?hl=es&x={x}&y={y}&z={z}&s={s}&apistyle=s.t%3A5|p.l%3A53%2Cs.t%3A1314|p.v%3Aoff%2Cp.s%3A-100%2Cs.t%3A3|p.v%3Aon%2Cs.t%3A2|p.v%3Aoff%2Cs.t%3A4|p.v%3Aoff%2Cs.t%3A3|s.e%3Ag.f|p.w%3A1|p.l%3A100%2Cs.t%3A18|p.v%3Aoff%2Cs.t%3A49|s.e%3Ag.s|p.v%3Aon|p.s%3A-19|p.l%3A24%2Cs.t%3A50|s.e%3Ag.s|p.v%3Aon|p.l%3A15&style=47,37', {
  		subdomains:['mt0', 'mt1', 'mt2', 'mt3'],
          maxZoom: 14,
          minZomm:5,
          attribution: '&copy <a href="https://www.mapbox.com/map-feedback/">Mapbox</a> &copy <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>',
          id: 'mapbox.light',
        }).addTo(map);

        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) )
        {
  			map.dragging.disable();
  	  }



        var info = L.control();
        info.onAdd = function (map) {
          this._div = L.DomUtil.create('div', 'infos hide');
          this.update();
          return this._div;
        };




        info.update = function (props) {
  	     $('.infos').removeClass('hide');
  	     $('.info2').removeClass('hide');
  	     if(props != undefined)
  	     {
  		      this._div.innerHTML='<div><h5 style="font-weight:bold">' + props.nom_ent +'</h5><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-size: 20px;color: #00aeef;">' + busqueda_estado(props.nom_ent).toFixed(1)/*props.density*/ + '</b><p style="position: absolute; bottom: 54%; left: 35%;">Razón de <br>mortalidad materna</p></div></div><div class="info"></div>';

  			  gen(estados[props.cve]);
  	     }
        };
        info.addTo(map);

        function getColor(d) {
          return d > 100 ? '#004b67' :
                 d > 50  ? '#007dab' :
                 d > 20  ? '#01baff' :
                           '#45ccff';
        }

        function getColoR(number)
        {
  	    return brew.getColorInRange(number);
  	  }

        function style(feature) {
  	    var res=String(getColoR(busqueda_estado(feature.properties.nom_ent))).split(",");
        console.log(res,'hhhh',"c"+res[1]);
          return {
            weight: 0.5,
            opacity: 1,
            color: '#000',
            dashArray: '1',
            fillOpacity: 0.6,
            fillColor: getColoR(busqueda_estado(feature.properties.nom_ent)),
             className: "c"+res[1]
          };
        }
        function highlightFeature(e) {
  	     if(locked == false)
  	     {
  	        var layer = e.target;
  	        layer.setStyle({
  	          weight: 2,
  	          color: '#ccc',
  	          dashArray: '',
  	          fillOpacity: 0.7
  	        });
  	        if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
  	          layer.bringToFront();
  	        }
  	        info.update(layer.feature.properties);
  	     }
        }
        var geojson;
        function resetHighlight(e) {

  		     geojson.resetStyle(e.target);
  			 info.update();
        }
        function zoomToFeature(e) {
          map.fitBounds(e.target.getBounds());
        }
        function onEachFeature(feature, layer) {
          layer.on({
            mouseover: highlightFeature,
            mouseout: resetHighlight,
            mousedown: function(e)
            {
  			if (locked == true) {
  				locked = false;
  				(function ($) {
  								 $(".info2").css("border","none");
  								 $(".infos").css("border","none");
  							   }(jQuery));
  			}
  			else {
  				locked = true;
  				(function ($) {
  								$(".info2").css("border-bottom","5px solid rgb(107, 174, 214)");
  								$(".info2").css("border-left","5px solid rgb(107, 174, 214)");
  								$(".info2").css("border-right","5px solid rgb(107, 174, 214)");
  								$(".infos").css("border-top","5px solid rgb(107, 174, 214)");
  								$(".infos").css("border-left","5px solid rgb(107, 174, 214)");
  								$(".infos").css("border-right","5px solid rgb(107, 174, 214)");
  							   }(jQuery));
  			}
  		 },
          });
        }

        function highlightFromLegend(e)
        	{
  			(function ($) {
  				$("svg path."+e).addClass("highlighted");
  				var r=$("svg path."+e);
  				for(var i=0;i<r.length;i++)
  				{
  					r[i].classList.add("highlighted");
  				}
  			}(jQuery));
  		}

  		function clearHighlight() {
  			(function ($) {

  				$("path").removeClass("highlighted");
  				var r=$("path");
  				for(var i=0;i<r.length;i++)
  				{
  					r[i].classList.remove("highlighted");
  				}
  			}(jQuery));
  		}

  		var brew = new classyBrew();
  		var values = [];
      var values2 = [];
  		for (var i = 0; i < statesData.features.length; i++)
      {
        console.log(statesData.features[i].properties.nom_ent);
        if (statesData.features[i].properties.nom_ent == null) continue;
  			values.push(busqueda_estado(statesData.features[i].properties.nom_ent));
  		}

      console.log(values,values2);
  		brew.setSeries(values);
  		brew.setNumClasses(4);
  		brew.setColorCode("Blues");
  		brew.classify('jenks');

        geojson = L.geoJson(statesData, {
          style: style,
          onEachFeature: onEachFeature
        }).addTo(map);


        map.attributionControl.addAttribution('');
        var legend = L.control();
        legend.onAdd = function (map) {
          var div = L.DomUtil.create('div', 'info2 legend hide'),
            grades = brew.getBreaks(),//[0, 20, 50, 100],
            labels = [],
            from, to;
          for (var i = 0; i < grades.length-1; i++) {
            from = grades[i];
            to = grades[i + 1];
            var res=String(getColoR(from)).split(",");
            console.log(from,from+1,res,grades);
            labels.push(
              '<div style="float:left; text-align: center;"><i class="leyenda" onmouseover="highlightFromLegend(\'c'+ res[1] +'\')" onmouseout="clearHighlight();" style="width:100%; background:' + getColoR(from) + '"></i><br>' +
              from.toFixed(2) + (to.toFixed(2) ? '&ndash;' + to.toFixed(2) : '+')+'</div>');
          }
          div.innerHTML = labels.join('');
          return div;
        };
        legend.addTo(map);

  </script>

  <style media="screen">
 .headcol {
       /*position:absolute;*/
       width:5em;
       left:0;
       top:auto;
        border-right: 0px none black;
     /* border-top-width:3px; only relevant for first row
            // margin-top:-3px; compensate for top border */
       background-color: #ffffff;
       margin-left: 6px;
       margin-top: 6px;
       width: 230px;
      margin: 5px; 
      padding-top: 26px !important;
 }
 /*
.padding-200{
  padding-left: 225px !important;
}*/
  </style>

  <script type="text/javascript">
    $(document).ready(function(){

          $('#indicador-panel').hide();
          $('.modal-trigger').leanModal();
          var select='<div class="input-field col s12" style="margin-bottom:20px;"><select class="select_datos" style="display:block !important; background-color: #f2f2f2;"><option value="0">Selecciona</option><option value="1">Defunciones de mujeres mientras se encuentran embarazadas o dentro de los 42 dias siguientes a la terminación del embarazo</option></select></div>';

          var select_2 = '<div class="input-field col s12" style="margin-bottom:20px;"><select class="select_datos_2" style="display:block !important; background-color: #f2f2f2;"><option value="0">Selecciona</option><option value="1">Defunciones de mujeres mientras se encuentran embarazadas o dentro de los 42 dias siguientes a la terminación del embarazo</option></select></div>';

          var datos_doble = '<h5 id="header_datos">Defunciones de mujeres por cada 100 mil nacidos vivos</h5>' +
                            '<div style=" width: auto; height: auto; overflow: auto;" id="datos_calculo_1">'+
                            '<table class="bordered" id="miTabla" class="miTabla" style="display:none">';

          var datos_doble_2 = '<h5 id="header_datos">Defunciones de mujeres por cada 100 mil nacidos vivos</h5>' +
                            '<div style=" width: auto; height: auto; overflow: auto;" id="datos_calculo_2">'+
                            '<table class="bordered" id="miTabla2" class="miTabla2" style="display:none">';

           var datos_doble_3 = '<h5 id="header_datos">Defunciones de mujeres por cada 100 mil nacidos vivos</h5>' +
                            '<div class="scroller" style=" width: auto; height: auto; overflow: auto;" id="datos_calculo_3">'+
                            '<table class="bordered" id="miTabla3" class="miTabla3" >';
            // console.log(estados);
            // console.log(estados.length);
            // console.log(estados[0].length);


             for (var i = 0; i < estados.length; i++) {
               if(i == 0){
                datos_doble +=  '<thead><tr>';
                datos_doble_2 +=  '<thead><tr>';
                datos_doble_3 +=  '<thead><tr>';
              }
               else if(i == 1){
                 datos_doble +=  '<tbody><tr>';
                 datos_doble_2 +=  '<tbody><tr>';
                 datos_doble_3 +=  '<tbody><tr>';
               }
               else {
                  datos_doble +=  '<tr>';
                  datos_doble_2 +=  '<tr>';
                  datos_doble_3 +=  '<tr>';
               }

               for (var j = estados[0].length -1 ; j > 0 ; j--) {
                if(i == 0 && j == estados[0].length -1){
                  datos_doble +=  '  <th  class="headcol">'+ estados[i][0] +'</th><th>'+ estados[i][j] .split('-')[0]+'</th>';
                  datos_doble_2 +=  '  <th  class="headcol">'+ estados[i][0] +'</th><th>'+ estados[i][j] .split('-')[0]+'</th>';
                  datos_doble_3 +=  '  <th  class="headcol">'+ estados[i][0] +'</th><th>'+ estados[i][j] .split('-')[0]+'</th>';
                }
                else if( i == 0 && j == estados[0].length -1 ){
                  datos_doble += '<th class"padding-200">'+ estados[i][j].split('-')[0] +'</th>';
                  datos_doble_2 += '<th class"padding-200">'+ estados[i][j].split('-')[0] +'</th>';
                  datos_doble_3 += '<th class"padding-200">'+ estados[i][j].split('-')[0] +'</th>';
                }
                else if( i == 0 ){
                  datos_doble += '<th>'+ estados[i][j].split('-')[0] +'</th>';
                  datos_doble_2 += '<th>'+ estados[i][j].split('-')[0] +'</th>';
                  datos_doble_3 += '<th>'+ estados[i][j].split('-')[0] +'</th>';
                }
                else if(j == estados[0].length -1 ) {
                  var varia = '<td class="headcol">'+ estados[i][0] +'</td><td>'+ estados[i][j] +'</td>';
                  datos_doble += varia;
                  datos_doble_2 += varia;
                  datos_doble_3 += varia;
                }
                else if(j == estados[0].length -2){
                    datos_doble +=  '  <td class="laque">'+ estados[i][j] +'</td>';
                    datos_doble_2 +=  '  <td class="laque">'+ estados[i][j] +'</td>';
                    datos_doble_3 +=  '  <td class="laque">'+ estados[i][j] +'</td>';
                }
                else{
                  datos_doble +=  '  <td>'+ estados[i][j] +'</td>';
                  datos_doble_2 +=  '  <td>'+ estados[i][j] +'</td>';
                  datos_doble_3 +=  '  <td>'+ estados[i][j] +'</td>';
                }
               }


                 if(i == 0){
                   datos_doble +=  '</tr></thead>';
                   datos_doble_2 +=  '</tr></thead>';
                   datos_doble_3 +=  '</tr></thead>';
                 }else{
                   datos_doble +=  '</tr>';
                   datos_doble_2 +=  '</tr>';
                   datos_doble_3 +=  '</tr>';
                 }
             }

            datos_doble +=  '</tbody></table></div><p class="nota" style="color:#8694a8;">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONAPO, estimados por INEGI. La información de 1989 se toma de los datos históricos del indicador.<br>Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>';
            datos_doble_2 +=  '</tbody></table></div><p class="nota" style="color:#8694a8;">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONAPO, estimados por INEGI. La información de 1989 se toma de los datos históricos del indicador.<br>Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>';
             datos_doble_3 +=  '</tbody></table></div><p class="nota" style="color:#8694a8;">Nota: A partir de 2006 se utiliza la ENIGH con factores ajustados a la proyección de la población de CONAPO, estimados por INEGI. La información de 1989 se toma de los datos históricos del indicador.<br>Fuente: Estimaciones de CONEVAL con información de INEGI. ENIGH (varios años)</p>';

            //  console.log(datos_doble);
          $('#datos-panel').html(select+datos_doble);
          $('#datos-panel-dos').html(select_2+datos_doble_2);
          $('#serie-panel').html(datos_doble_3);

          $('.scroller').scroll(function(e) {
            console.log("aca");
            $('.scroller').scrollLeft(e.target.scrollLeft);
            });
  
          // $("#miTabla tr").find('td:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          // $("#miTabla tr").find('th:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          // $("#miTabla2 tr").find('td:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          // $("#miTabla2 tr").find('th:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          // $("#miTabla3 tr").find('td:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          // $("#miTabla3 tr").find('th:eq(1)').each(function () {
          //    $(this).addClass( "padding-200");
          // })

          var lupa =  false;
          $('#buscar').click(function(){
            if(lupa){
              $('#cam_bus').hide();
              lupa =  false;
            }else{
              $('#cam_bus').show();
              $('#buscar').hide();
              lupa =  true;
            }
          });


          // select de metadatos
          $('#indicador').click(function(){
                $('#metadato-panel').hide();
                $('#indicador-grafica').show();
                $('#mapas_hide').show();
                $('#serie-panel').hide();
                $('#datos-panel').hide();
                $('#datos-panel-dos').hide();
                $('#link-datos-panel').hide();

                $('#indicador').addClass('indicadores-taps-active');
                $('#serie').removeClass('indicadores-taps-active');
                $('#datos').removeClass('indicadores-taps-active');
                $('#metadato').removeClass('indicadores-taps-active');
          });

          $('#serie').click(function(){
                $('#metadato-panel').hide();
                $('#indicador-panel').hide();
                $('#mapas_hide').hide();
                $('#serie-panel').show();
                if(table3 == null){
                  table3 = $('#miTabla3').DataTable( {
                    scrollY:        "600px",
                    scrollX:        true,
                    scrollCollapse: true,
                    paging:         false,
                    aoColumnDefs: [
                      { 'bSortable': false, 'aTargets': [ 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26 ] }
                    ],
                    fixedColumns:   {
                        leftColumns: 1
                    }
                  });
                }
                $('#datos-panel').hide();
                $('#datos-panel-dos').hide();
                $('#link-datos-panel').hide();

                $('#indicador').removeClass('indicadores-taps-active');
                $('#serie').addClass('indicadores-taps-active');
                $('#datos').removeClass('indicadores-taps-active');
                $('#metadato').removeClass('indicadores-taps-active');
          });

          $('#datos').click(function(){
                $('#metadato-panel').hide();
                $('#indicador-panel').hide();
                $('#mapas_hide').hide();
                $('#serie-panel').hide();
                $('#datos-panel').show();
                $('#datos-panel-dos').show();
                $('#link-datos-panel').show();


                $('#indicador').removeClass('indicadores-taps-active');
                $('#serie').removeClass('indicadores-taps-active');
                $('#datos').addClass('indicadores-taps-active');
                $('#metadato').removeClass('indicadores-taps-active');
          });

          $('#metadato').click(function(){
                $('#metadato-panel').show();
                $('#indicador-panel').hide();
                $('#mapas_hide').hide();
                $('#serie-panel').hide();
                $('#datos-panel').hide();
                $('#datos-panel-dos').hide();
                $('#link-datos-panel').hide();


                $('#indicador').removeClass('indicadores-taps-active');
                $('#serie').removeClass('indicadores-taps-active');
                $('#datos').removeClass('indicadores-taps-active');
                $('#metadato').addClass('indicadores-taps-active');
          });

          $('#indicador').trigger("click");

          $('.select_datos').change(function(){
            var osds=$('.select_datos').val();
            if(osds == 1){
              
              $('#datos_calculo_1').show();
              
              if(table1 == null){
                    $('#miTabla').show();
                    table1 = $('#miTabla').DataTable( {
                    scrollY:        "600px",
                    scrollX:        true,
                    scrollCollapse: true,
                    paging:         false,
                    aoColumnDefs: [
                      { 'bSortable': false, 'aTargets': [ 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26 ] }
                    ],
                    fixedColumns:   {
                        leftColumns: 1
                    }
                } );
              }
           }
            else{
              $('#datos_calculo_1').hide();
              
            }
          });

           $('.select_datos_2').change(function(){
             var osds=$('.select_datos_2').val();
             if(osds == 1){
              
               $('#datos_calculo_2').show();
                  if(table2 == null){
                    $('#miTabla2').show();
                    table2 = $('#miTabla2').DataTable( {
                      scrollY:        "600px",
                      scrollX:        true,
                      scrollCollapse: true,
                      paging:         false,
                      aoColumnDefs: [
                        { 'bSortable': false, 'aTargets': [ 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26 ] }
                      ],
                      fixedColumns:   {
                          leftColumns: 1
                      }
                  } );
                }
            }
             else
                $('#datos_calculo_2').hide();
          });


          var cadena='';
          for(var i=1;i<=7;i++)
          {
            if(i == 1)
            {
              cadena='<a id="anio_'+i+'" class="inactive_anio waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" onclick="cambio_anio(\''+estados[0][i]+'\','+i+')" style ="margin-right: -1px; border-color: black; border-width: 1px; border-radius: 0px 5px 5px 0px;">'+estados[0][i].split('-')[0]+'</a>'+cadena;
              console.log(i);
            }
            else if(i == 7)
            {
              cadena='<a id="anio_'+i+'" class="inactive_anio waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" onclick="cambio_anio(\''+estados[0][i]+'\','+i+')" style ="margin-right: -1px; border-color: black; border-width: 1px; border-radius: 5px 0px 0px 5px;">'+estados[0][i].split('-')[0]+'</a>'+cadena;
              console.log(i,'break');
              break;
            }
            else if(i < estados[0].length-1)
            {
              cadena='<a id="anio_'+i+'" class="inactive_anio waves-effect waves-light btn color  claro t_sm sin_sombra marg_top" onclick="cambio_anio(\''+estados[0][i]+'\','+i+')" style ="margin-right: -1px; border-color: black; border-width: 1px; border-radius: 0;">'+estados[0][i].split('-')[0]+'</a>'+cadena;
              console.log(i);
            }
            // cadena='<option value="'+estados[0][i]+'">'+estados[0][i].split('-')[0]+'</option>'+cadena;
          }
          // cadena='<a class="waves-effect waves-light btn color  black-text t_sm sin_sombra marg_top" style="border-style: none;">Año</a><select id="opciones_anio" onchange="cambio_anio()" style="display:block;"><option value=" " disabled selected>Selecciona un año</option>'+cadena;
          cadena='<a class="waves-effect waves-light btn color  black-text t_sm sin_sombra marg_top" style="border-style: none;">Año</a>'+cadena;
          $('#anios').html(cadena);

    });

    function cambio_grafica()
    {
      $('#ver_tabla').removeClass('inactive_anio');
      $('#ver_tabla').addClass('active_anio');
      $('#ver_grafica').removeClass('active_anio');
      $('#ver_grafica').addClass('inactive_anio');
      $('#indicador-grafica').hide();
      $('#indicador-panel').show();
    }

    function cambio_tabla()
    {
      $('#ver_grafica').removeClass('inactive_anio');
      $('#ver_grafica').addClass('active_anio');
      $('#ver_tabla').removeClass('active_anio');
      $('#ver_tabla').addClass('in¡active_anio');
      $('#indicador-grafica').show();
      $('#indicador-panel').hide();
    }


    function cambio_anio(cadena, i)
    {
      for(var j=1;j<=7;j++)
      {
        $('#anio_'+j).removeClass('active_anio');
        $('#anio_'+j).addClass('inactive_anio');
      }
      $('#anio_'+i).removeClass('inactive_anio');
      $('#anio_'+i).addClass('active_anio');
      // $('#map').html('');
      $('.infos').remove();
      $('.info2').remove();
      var anio_buscar=$('#opciones_anio').val();
      var posi = busqueda_anio(cadena);

      locked =false;

      var info = L.control();
      info.onAdd = function (map) {
        this._div = L.DomUtil.create('div', 'infos hide');
        this.update();
        return this._div;
      };
      info.update = function (props) {
       $('.infos').removeClass('hide');
       $('.info2').removeClass('hide');
       if(props != undefined)
       {
          this._div.innerHTML='<div><h5 style="font-weight:bold">' + props.nom_ent +'</h5><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b style="font-size: 20px;color: #00aeef;">' + busqueda_estado_posicion(props.nom_ent,posi).toFixed(1) + '</b></p><p style="position: absolute; top: 15%; left: 35%;">Razón de <br>mortalidad materna</p></div><div class="info"></div>';

        gen(estados[props.cve]);
       }
      };
      info.addTo(map);

      function getColor(d) {
        return d > 100 ? '#004b67' :
               d > 50  ? '#007dab' :
               d > 20  ? '#01baff' :
                         '#45ccff';
      }

      function getColoR(number)
      {
      return brew.getColorInRange(number);
    }

      function style(feature) {
      var res=String(getColoR(busqueda_estado_posicion(feature.properties.nom_ent,posi))).split(",");
      console.log(res,'hhhh',"c"+res[1]);
        return {
          weight: 0.5,
          opacity: 1,
          color: '#000',
          dashArray: '1',
          fillOpacity: 0.6,
          fillColor: getColoR(busqueda_estado_posicion(feature.properties.nom_ent,posi)),
           className: "c"+res[1]
        };
      }
      function highlightFeature(e) {
       if(locked == false)
       {
          var layer = e.target;
          layer.setStyle({
            weight: 2,
            color: '#ccc',
            dashArray: '',
            fillOpacity: 0.7
          });
          if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
            layer.bringToFront();
          }
          info.update(layer.feature.properties);
       }
      }
      var geojson;
      function resetHighlight(e) {
         geojson.resetStyle(e.target);
       info.update();
      }
      function zoomToFeature(e) {
        map.fitBounds(e.target.getBounds());
      }
      function onEachFeature(feature, layer) {
        layer.on({
          mouseover: highlightFeature,
          mouseout: resetHighlight,
          mousedown: function(e)
          {
      if (locked == true) {
        locked = false;
        (function ($) {
                 $(".info2").css("border","none");
                 $(".infos").css("border","none");
                 }(jQuery));
      }
      else {
        locked = true;
        (function ($) {
                $(".info2").css("border-bottom","5px solid rgb(107, 174, 214)");
                $(".info2").css("border-left","5px solid rgb(107, 174, 214)");
                $(".info2").css("border-right","5px solid rgb(107, 174, 214)");
                $(".infos").css("border-top","5px solid rgb(107, 174, 214)");
                $(".infos").css("border-left","5px solid rgb(107, 174, 214)");
                $(".infos").css("border-right","5px solid rgb(107, 174, 214)");
                 }(jQuery));
      }
     },
        });
      }

      function highlightFromLegend(e)
        {
      (function ($) {
        $("svg path."+e).addClass("highlighted");
        var r=$("svg path."+e);
        for(var i=0;i<r.length;i++)
        {
          r[i].classList.add("highlighted");
        }
      }(jQuery));
    }

    function clearHighlight() {
      (function ($) {

        $("path").removeClass("highlighted");
        var r=$("path");
        for(var i=0;i<r.length;i++)
        {
          r[i].classList.remove("highlighted");
        }
      }(jQuery));
    }

    var brew = new classyBrew();
    var values = [];
    var values2 = [];
    for (var i = 0; i < statesData.features.length; i++)
    {
      console.log(statesData.features[i].properties.nom_ent);
      if (statesData.features[i].properties.nom_ent == null) continue;
      values.push(busqueda_estado_posicion(statesData.features[i].properties.nom_ent,posi));
    }

    console.log(values,values2);
    brew.setSeries(values);
    brew.setNumClasses(4);
    brew.setColorCode("Blues");
    brew.classify('jenks');

      geojson = L.geoJson(statesData, {
        style: style,
        onEachFeature: onEachFeature
      }).addTo(map);

      map.attributionControl.addAttribution('');
      var legend = L.control();
      legend.onAdd = function (map) {
        var div = L.DomUtil.create('div', 'info2 legend hide'),
          grades = brew.getBreaks(),//[0, 20, 50, 100],
          labels = [],
          from, to;
        for (var i = 0; i < grades.length-1; i++) {
          from = grades[i];
          to = grades[i + 1];
          var res=String(getColoR(from)).split(",");
          console.log(from,from+1,res,grades);
          labels.push(
            '<div style="float:left; text-align: center;"><i class="leyenda" onmouseover="highlightFromLegend(\'c'+ res[1] +'\')" onmouseout="clearHighlight();" style="width:100%; background:' + getColoR(from) + '"></i><br>' +
            from.toFixed(2) + (to.toFixed(2) ? '&ndash;' + to.toFixed(2) : '+')+'</div>');
        }
        div.innerHTML = labels.join('');
        return div;
      };
      legend.addTo(map);
    }
    </script>
  </body>
</html>
